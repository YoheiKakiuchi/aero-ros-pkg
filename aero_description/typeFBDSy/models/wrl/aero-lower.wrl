#VRML V2.0 utf8
#--------------------------------------------------------------
# Aero Lower Robot Model
#
# author    Wesley P. Chan (Univ. of Tokyo)
# version   0.2 (2015.05.12)
#--------------------------------------------------------------

PROTO Joint [
  exposedField     SFVec3f      center              0 0 0
  exposedField     MFNode       children            []
  exposedField     MFFloat      llimit              []
  exposedField     MFFloat      lvlimit             []
  exposedField     SFRotation   limitOrientation    0 0 1 0
  exposedField     SFString     name                ""
  exposedField     SFRotation   rotation            0 0 1 0
  exposedField     SFVec3f      scale               1 1 1
  exposedField     SFRotation   scaleOrientation    0 0 1 0
  exposedField     MFFloat      stiffness           [ 0 0 0 ]
  exposedField     SFVec3f      translation         0 0 0
  exposedField     MFFloat      ulimit              []
  exposedField     MFFloat      uvlimit             []
  exposedField     SFString     jointType           ""
  exposedField     SFInt32      jointId             -1
  exposedField     SFVec3f      jointAxis           0 0 1

  exposedField     SFFloat      gearRatio           1
  exposedField     SFFloat      rotorInertia        0
  exposedField     SFFloat      rotorResistor       0
  exposedField     SFFloat      torqueConst         1
  exposedField     SFFloat      encoderPulse        1
]
{
  Transform {
    center           IS center
    children         IS children
    rotation         IS rotation
    scale            IS scale
    scaleOrientation IS scaleOrientation
    translation      IS translation
  }
}

PROTO Segment [
  field           SFVec3f     bboxCenter        0 0 0
  field           SFVec3f     bboxSize          -1 -1 -1
  exposedField    SFVec3f     centerOfMass      0 0 0
  exposedField    MFNode      children          [ ]
  exposedField    SFNode      coord             NULL
  exposedField    MFNode      displacers        [ ]
  exposedField    SFFloat     mass              0 
  exposedField    MFFloat     momentsOfInertia  [ 0 0 0 0 0 0 0 0 0 ]
  exposedField    SFString    name              ""
  eventIn         MFNode      addChildren
  eventIn         MFNode      removeChildren
]
{
  Group {
    addChildren    IS addChildren
    bboxCenter     IS bboxCenter
    bboxSize       IS bboxSize
    children       IS children
    removeChildren IS removeChildren
  }
}

PROTO Humanoid [
  field           SFVec3f    bboxCenter            0 0 0
  field           SFVec3f    bboxSize              -1 -1 -1
  exposedField    SFVec3f    center                0 0 0
  exposedField    MFNode     humanoidBody          [ ]
  exposedField    MFString   info                  [ ]
  exposedField    MFNode     joints                [ ]
  exposedField    SFString   name                  ""
  exposedField    SFRotation rotation              0 0 1 0
  exposedField    SFVec3f    scale                 1 1 1
  exposedField    SFRotation scaleOrientation      0 0 1 0
  exposedField    MFNode     segments              [ ]
  exposedField    MFNode     sites                 [ ]
  exposedField    SFVec3f    translation           0 0 0
  exposedField    SFString   version               "1.1"
  exposedField    MFNode     viewpoints            [ ]
]
{
  Transform {
    bboxCenter       IS bboxCenter
    bboxSize         IS bboxSize
    center           IS center
    rotation         IS rotation
    scale            IS scale
    scaleOrientation IS scaleOrientation
    translation      IS translation
    children [
      Group {
        children IS viewpoints
      }
      Group {
        children IS humanoidBody 
      }
    ]
  }
}

PROTO VisionSensor [
  exposedField SFVec3f    translation       0 0 0
  exposedField SFRotation rotation          0 0 1 0
  exposedField MFNode     children          [ ]
  exposedField SFFloat    fieldOfView       0.785398
  exposedField SFString   name              ""
  exposedField SFFloat    frontClipDistance 0.01
  exposedField SFFloat    backClipDistance  10.0
  exposedField SFString   type              "NONE"
  exposedField SFInt32    sensorId          -1
  exposedField SFInt32    width             320
  exposedField SFInt32    height            240
  exposedField SFFloat    frameRate         30
]
{
  Transform {
    rotation         IS rotation
    translation      IS translation
    children         IS children
  }
}


PROTO ForceSensor [  
  exposedField SFVec3f    maxForce    -1 -1 -1
  exposedField SFVec3f    maxTorque   -1 -1 -1
  exposedField SFVec3f    translation 0 0 0
  exposedField SFRotation rotation    0 0 1 0
  exposedField SFInt32    sensorId    -1
]
{
  Transform {
    translation IS translation
    rotation    IS rotation
  }
}

PROTO Gyro [
  exposedField SFVec3f    maxAngularVelocity -1 -1 -1
  exposedField SFVec3f    translation        0 0 0
  exposedField SFRotation rotation           0 0 1 0
  exposedField SFInt32    sensorId           -1
]
{
  Transform {
    translation IS translation
    rotation    IS rotation
  }
}

PROTO AccelerationSensor [
  exposedField SFVec3f    maxAcceleration -1 -1 -1
  exposedField SFVec3f    translation     0 0 0
  exposedField SFRotation rotation        0 0 1 0
  exposedField SFInt32    sensorId        -1
]
{
  Transform {
    translation IS translation
    rotation    IS rotation
  }
}

PROTO PressureSensor [
  exposedField SFFloat    maxPressure -1
  exposedField SFVec3f    translation 0 0 0
  exposedField SFRotation rotation    0 0 1 0
  exposedField SFInt32    sensorId    -1
]
{
  Transform {
    translation IS translation
    rotation    IS rotation
  }
}

PROTO PhotoInterrupter [
  exposedField SFVec3f transmitter 0 0 0
  exposedField SFVec3f receiver    0 0 0
  exposedField SFInt32 sensorId    -1
]
{
  Transform{
    children [
      Transform{
        translation IS transmitter
      }
      Transform{
        translation IS receiver
      }
    ]
  }
}

PROTO CylinderSensorZ [
    exposedField    SFFloat    maxAngle       -1
    exposedField    SFFloat    minAngle        0
    exposedField    MFNode     children        [ ]
]
{
  Transform{
    rotation 1 0 0 1.5708
    children [
      DEF SensorY CylinderSensor{
        maxAngle IS maxAngle
        minAngle IS minAngle
      }
      DEF AxisY Transform{
        children [
          Transform{
            rotation 1 0 0 -1.5708
            children IS children
          }
        ]
      }
    ]
  }
  ROUTE SensorY.rotation_changed TO AxisY.set_rotation
}

PROTO CylinderSensorY [
    exposedField    SFFloat    maxAngle       -1
    exposedField    SFFloat    minAngle        0
    exposedField    MFNode     children        [ ]
]
{
  Transform{
    rotation 0 1 0 1.5708
    children [
      DEF SensorX CylinderSensor{
        maxAngle IS maxAngle
        minAngle IS minAngle
      }
      DEF AxisX Transform{
        children [
          Transform{
            rotation 0 1 0 -1.5708
            children IS children
          }
        ]
      }
    ]
  }
  ROUTE SensorX.rotation_changed TO AxisX.set_rotation
}

PROTO CylinderSensorX [
    exposedField    SFFloat    maxAngle       -1
    exposedField    SFFloat    minAngle        0
    exposedField    MFNode     children        [ ]
]
{
  Transform{
    rotation 0 0 1 -1.5708
    children [
      DEF SensorZ CylinderSensor{
        maxAngle IS maxAngle
        minAngle IS minAngle
      }
      DEF AxisZ Transform{
        children [
          Transform{
            rotation 0 0 1 1.5708
            children IS children
          }
        ]
      }
    ]
  }
  ROUTE SensorZ.rotation_changed TO AxisZ.set_rotation
}

NavigationInfo {
  avatarSize    0.5
  headlight     TRUE
  type  ["EXAMINE", "ANY"]
}

Background {
  skyColor 0.4 0.6 0.4
}

Viewpoint {
  position    3 0 0.835
  orientation 0.5770 0.5775 0.5775 2.0935
}

DEF AeroLowerRobot Humanoid {
  name "aero-lower"
  version "0.1"
  info [
    "This is the model of the aero robot lower body based on sample1.wrl"
  ]

  humanoidBody [
    DEF WAIST Joint {
      jointType "free"
      translation 0 0 0.7235
      # scale 1000 1000 1000 
      # scaleOrientation 0 0 1 0                                      
      children [
        DEF WAIST_LINK0 Segment {
          # centerOfMass  0 0 0.08
          # mass    13.0
          # momentsOfInertia [ 0.17 0 0 0 0.215 0 0 0 0.2026 ]
          children Transform {
            translation 0.05 0 0.055
            children Shape {
              appearance DEF WAIST_LINK3_APP Appearance {
                material Material {
                  diffuseColor 0 0 1
                }
              }
              geometry Box { size 0.1076 0.122 0.110 } # upper body mass block
            }
          }
        }
        
        DEF WAIST_Y Joint {
          # translation     0 0 0.00917
          jointType "rotate"
          jointAxis 0 0 1
          jointId  26
          # rotorInertia 3.0E-4
          # gearRatio 200
          children [
            DEF WAIST_LINK1 Segment {
              centerOfMass  -0.012819 -0.002679 0.007207
              mass    7.646038
              momentsOfInertia [ 0.065813568077 -0.000159461834 0.010103039440 -0.000159461834 0.050426769085 0.000173435499 0.010103039440 0.000173435499 0.088977199656]
              children [
                # base plate
                Transform {
                  children Shape {
                    appearance DEF WAIST_LINK3_APP Appearance {
                      material Material {
                        diffuseColor 0 1 0
                      }
                    }
                    geometry Box { size 0.222 0.3076 0.010 }                         
                  }
                }

                # front left 
                Transform {
                  translation 0.060 0.100 -0.041
                  rotation 1 0 0 1.5708
                  children DEF HIP_Y_MOTOR_SHAPE Shape {
                    appearance Appearance {
                      material Material {
                        diffuseColor 0 0 1
                      }
                    }
                    geometry Cylinder { radius 0.031 height 0.082 }                         
                  }
                }

                # front right
                Transform {
                  translation 0.060 -0.100 -0.041
                  rotation 1 0 0 1.5708
                  children USE HIP_Y_MOTOR_SHAPE                  
                }

                # back left
                Transform {
                  translation -0.060 -0.100 -0.041
                  rotation 1 0 0 1.5708
                  children USE HIP_Y_MOTOR_SHAPE               
                }

                # back right
                Transform {
                  translation -0.060 0.100 -0.041
                  rotation 1 0 0 1.5708
                  children USE HIP_Y_MOTOR_SHAPE                  
                }
              ]
            }
            
            #==================== Left Arm ====================
            
            DEF LARM_SHOULDER_Y Joint {
              jointType "rotate"
              jointAxis 0 0 1
              jointId  19
              # no limit
              # ulimit 1.5708
              # llimit -3.14159
              translation   0.060 0.100 -0.087
              # rotation 0 0 1 0.6109 
              # rotorInertia 3.0E-4
              # gearRatio 200
              children [
                DEF LARM_LINK1 Segment {
                  centerOfMass          0.0339853 0.009895 -0.0268937
                  mass                  0.262933
                  momentsOfInertia      [ 0.000323237944 0.000007537601 -0.000004665104 0.000007537601 0.000199716018 -0.000013948049 -0.000004665104 -0.000013948049 0.000214641727]
                  children [ 
                    DEF ARM_LINK1_SHAPE Transform {
                      translation 0.0169042 0 -0.0302755
                      rotation 0 1 0 -0.509228                  
                      children Shape {
                        appearance Appearance {
                          material Material {
                            diffuseColor 0 0.3 0.8
                          }
                        }
                        geometry Box { size 0.05 0.05 0.0693501 }
                      }
                    }
                  ]
                }
                
                DEF LARM_SHOULDER_P Joint {
                  jointType "rotate"
                  jointAxis 0 -1 0
                  jointId  20
                  translation 0.0338084 0 -0.060551
                  ulimit 1.5708
                  llimit 0
                  # rotorInertia 3.0E-4
                  # gearRatio 200
                  children [
                    DEF LARM_LINK2 Segment {
                      centerOfMass  0.0587169 0 -0.135292
                      mass    2.623212
                      momentsOfInertia [ 0.016159499521 -0.000092723413 0.002628391213 -0.000092723413 0.016641534611 -0.000174470479 0.002628391213 -0.000174470479 0.004772809189]
                      children [
                        DEF ARM_LINK2_SHAPE Transform {
                          rotation 0 1 0 3.1415
                          scale 0.001 0.001 0.001 
                          scaleOrientation 0 0 1 0
                          children Transform {
                            rotation 0 0 1 -1.5708
                            children Transform {
                              rotation 1 0 0 -1.047
                              children Inline  {
                                url "SK_LEG1.wrl" 
                              }
                            }
                          }
                          # translation 0.07500245 0 -0.129904
                          # rotation 0 1 0 -0.5236
                          # children Shape {
                          #   appearance Appearance {
                          #     material Material {
                          #       diffuseColor 0.3 0.3 0.3
                          #     }
                          #   }
                          #   geometry Box { size 0.07 0.10 0.300002 }
                          # }
                        }                     
                        
                        # Transform {
                          # translation 0 -0.012 -0.010
                          # rotation 1 0 0 3.14
                          # children Inline {
                            # url "ARM_base_R1_MIR.wrl"
                          # }
                        # }
                        
                       ]
                    } # Segment LARM_LINK2
                    
                #     DEF LARM_SHOULDER_R Joint {
                #       jointType "rotate"
                #       jointId  21
                #       # ulimit 2.0944
                #       # llimit -2.0944
                #       translation 0 -0.012 -0.040
                #               # rotorInertia 3.0E-4
                #               # gearRatio 200
                #               children [
                #                 DEF LARM_LINK3 Segment {
                #                   # centerOfMass  0 0 0.05
                #                   # mass    0.4
                #                   # momentsOfInertia [ 0.000146 0 0 0 0.000146 0 0 0 0.000125 ]
                #                   children Transform {
                #                     translation 0 0 0.020247
                #                     rotation 1 0 0 3.14
                #                     children Transform {
                #                       rotation 0 0 1 -1.5708
                #                       scale 0.001 0.001 0.001 
                #                       scaleOrientation 0 0 1 0
                #                       children Inline {
                #                         url "SK_cover_7P_AL1_MIR.wrl"
                #                       }
                #                     }
                #                   }

                #                   # children DEF ARM_SHAPE3 Transform {
                #                   #   children [
                #                   #     Transform {
                #                   #       rotation 1 0 0 1.5708
                #                   #       children Shape {
                #                   #         appearance Appearance {
                #                   #           material Material {
                #                   #             diffuseColor 0 0 1
                #                   #           }
                #                   #         }
                #                   #         geometry Cylinder { radius 0.025 height 0.05}
                #                   #       }
                #                   #     }
                #                   #     Transform {
                #                   #       translation   0 0 -0.085
                #                   #       children      Shape {
                #                   #         appearance Appearance {
                #                   #           material Material {
                #                   #             diffuseColor 1 1 1 
                #                   #           }
                #                   #         }
                #                   #         geometry Box { size 0.05 0.05 0.12 }
                #                   #       }
                #                   #     }
                #                   #   ]
                #                   # }
                #                 } # Segment LARM_LINK3
                                
                                DEF LARM_ELBOW Joint {
                                  jointType "rotate"
                                  jointAxis 0 1 0
                                  jointId  22
                                  translation 0.1500049 0 -0.259808
                                  ulimit 2.79252
                                  llimit 0
                                  # rotorInertia 3.0E-4
                                  # gearRatio 200
                                  children [

                                    DEF LARM_LINK3 Segment {
                                      centerOfMass          0.081713 0.000812 -0.146934
                                      mass                  2.066792
                                      momentsOfInertia      [ 0.040881846626  -0.000009393015 -0.000750164821 -0.000009393015 0.040396938810 -0.000120419087 -0.000750164821 -0.000120419087 0.002609815732 ]
                                      children [
                                        DEF ARM_LINK3_SHAPE Transform {
                                          children [

                                            Transform {
                                              rotation 1 0 0 1.5708
                                              scaleOrientation 0 0 1 0
                                              children Transform {
                                                scale 0.001 0.001 0.001 
                                                rotation 0 0 1 0.5236
                                                children Inline  {
                                                  url "SK_KNEE.wrl" 
                                                }
                                              }
                                            }

                                            Transform {
                                              rotation 0 1 0 3.1415
                                              scaleOrientation 0 0 1 0
                                              children Transform {
                                                rotation 0 0 1 -1.5708
                                                children Transform {
                                                  translation 0 -0.0225  0.03897
                                                  scale 0.001 0.001 0.001 
                                                  rotation 1 0 0 -1.047
                                                  children Inline  {
                                                    url "SK_LEG2.wrl" 
                                                  }
                                                }
                                              }

                                              # translation 0.0863605 0 -0.149325
                                              # rotation 0 1 0 -0.52434
                                              # children Shape {
                                              #   appearance Appearance {
                                              #     material Material {
                                              #       diffuseColor 0.3 0.3 0.3
                                              #     }
                                              #   }
                                              #   geometry Box { size 0.05 0.10 0.344999 }
                                              # }
                                            }

                                            Transform {
                                              translation 0.172721 0 -0.29865
                                              children Shape {
                                                appearance Appearance {
                                                  material Material {
                                                    diffuseColor 0.3 0.3 0.3 
                                                  }
                                                }
                                                geometry Cylinder { radius 0.04463875 height 0.08 }
                                              }
                                            }
                                          ]
                                        }
                                        
                                        # Transform {
                                        # translation 0 -0.012 -0.010
                                        # rotation 1 0 0 3.14
                                        # children Inline {
                                        # url "ARM_base_R1_MIR.wrl"
                                        # }
                                        # }
                                        
                                       ]
                                    } # Segment LARM_LINK3

                                    # DEF LARM_WRIST_Y Joint {
                                    #   jointType "rotate"
                                    #   jointAxis 0 0 1
                                    #   jointId  23
                                    #   # ulimit 2.0944
                                    #   # llimit -2.0944
                                    #   translation 0 0 -0.032
                                    #   # rotorInertia 3.0E-4
                                    #   # gearRatio 200
                                    #   children [
                                    #     DEF LARM_LINK5 Segment {
                                    #       # centerOfMass  0 0 0.05
                                    #       # mass    0.4
                                    #       # momentsOfInertia [ 0.000146 0 0 0 0.000146 0 0 0 0.000125 ]
                                    #       children Transform {
                                    #         translation 0 0 0.0305
                                    #         rotation 1 0 0 3.14
                                    #         children Transform {
                                    #           rotation 0 0 1 1.5708 
                                    #           scale 0.001 0.001 0.001 
                                    #           scaleOrientation 0 0 1 0
                                    #           children Inline {
                                    #             url "SK_cover_7P_AL3_MIR.wrl"
                                    #           }
                                    #         }
                                    #       }

                                    #       # children DEF ARM_SHAPE5 Transform {
                                    #       #   children [
                                    #       #     Transform {
                                    #       #       rotation 1 0 0 1.5708
                                    #       #       children Shape {
                                    #       #         appearance Appearance {
                                    #       #           material Material {
                                    #       #             diffuseColor 0 0 1
                                    #       #           }
                                    #       #         }
                                    #       #         geometry Cylinder { radius 0.025 height 0.05 }
                                    #       #       }
                                    #       #     }
                                    #       #     Transform {
                                    #       #       translation  0 0 -0.0665
                                    #       #       children        Shape {
                                    #       #         appearance Appearance {
                                    #       #           material Material {
                                    #       #             diffuseColor 1 1 1 
                                    #       #           }
                                    #       #         }
                                    #       #         geometry Box { size 0.05 0.05 0.083 }
                                    #       #       }
                                    #       #     }
                                    #       #   ]
                                    #       # }
                                    #     } 

                                    #     DEF LARM_WRIST_P Joint {
                                    #       jointType "rotate"
                                    #       jointAxis 0 1 0
                                    #       jointId  24
                                    #       translation 0 0 -0.1995
                                    #       # ulimit 2.0944
                                    #       # llimit -2.0944
                                    #       # rotorInertia 3.0E-4
                                    #       # gearRatio 200
                                    #       children [
                                    #         DEF LARM_LINK6 Segment {
                                    #           # centerOfMass  0 0.01 -0.09
                                    #           # mass    0.4
                                    #           # momentsOfInertia [ 0.001851 0 0 0 0.001771 0 0 0 0.000247 ]
                                    #            children [
                                    #               # DEF lhsensor ForceSensor {
                                    #               #       Translation 0 0 0
                                    #               #       rotation 1 0 0 0
                                    #               #       sensorId 2
                                    #               # }
                                    #              DEF ARM_SHAPE6 Shape {
                                    #                appearance Appearance {
                                    #                  material Material {
                                    #                    diffuseColor 0 0 1
                                    #                  }
                                    #                }
                                    #                geometry Cylinder { radius 0.025 height 0.05 }
                                    #              }
                                    #            ]
                                    #          }

                                    #         DEF LARM_WRIST_R Joint {
                                    #           jointType "rotate"
                                    #           jointAxis 1 0 0
                                    #           jointId  25
                                    #           # ulimit 0.122173
                                    #           # llimit -1.309
                                    #           # rotorInertia 3.0E-4
                                    #           # gearRatio 200
                                    #           children [
                                    #             DEF LARM_LINK7 Segment {
                                    #               # centerOfMass  0 0 -0.1
                                    #               # centerOfMass  0 -0.03 -0.1
                                    #               # mass    0.4
                                    #               # momentsOfInertia [ 0.00078 0 0 0 0.000833 0 0 0 0.000113 ]
                                    #               children DEF ARM_SHAPE7 Transform {
                                    #                 children [
                                    #                   Transform {
                                    #                     rotation 0 0 1 1.5708
                                    #                     children Shape {
                                    #                       appearance Appearance {
                                    #                         material Material {
                                    #                           diffuseColor 0 1 0
                                    #                         }
                                    #                       }
                                    #                       geometry Cylinder { radius 0.025 height 0.05 }
                                    #                     }
                                    #                   }
                                    #                   Transform {
                                    #                     translation  0 0 -0.0895
                                    #                     children        Shape {
                                    #                       appearance Appearance {
                                    #                         material Material {
                                    #                           diffuseColor 1 1 1 
                                    #                         }
                                    #                       }
                                    #                       geometry Box { size 0.05 0.05 0.129 }
                                    #                     }
                                    #                   }
                                    #                 ]
                                    #               }
                                    #             } # Segment LARM_LINK7
                                    #           ]
                                    #         } # Joint LARM_WRIST_R
                                    #       ]
                                    #     } # Joint LARM_WRIST_P
                                    #   ]
                                    # }
                                    # Joint LARM_WRIST_Y
                                  ]
                                } # Joint LARM_ELBOW
                              ]
                            # } # Joint LARM_SHOULDER_R
                          # ]
                 } # Joint LARM_SHOULDER_P
               ]
            } # Joint LARM_SHOULDER_Y

                    #==================== Right Arm ====================

                    DEF RARM_SHOULDER_Y Joint {
                      jointType "rotate"
                      jointAxis 0 0 1
                      jointId 6
                      # no limit
                      # ulimit 1.5708
                      # llimit -3.14159
                      translation   0.060 -0.100 -0.087
                      # rotation 0 0 1 -0.6109 
                      # rotorInertia 3.0E-
                      # gearRatio 200
                      children [
                        DEF RARM_LINK1 Segment {
                          centerOfMass          0.0339853 -0.009895 -0.0268937
                          mass                  0.262933
                          momentsOfInertia      [ 0.000323237944 0.000007537601 -0.000004665104 0.000007537601 0.000199716018 -0.000013948049 -0.000004665104 -0.000013948049 0.000214641727]
                          children USE ARM_LINK1_SHAPE
                        }
                        
                        DEF RARM_SHOULDER_P Joint {
                          jointType "rotate"
                          jointAxis 0 -1 0
                          jointId 7
                          translation 0.0338084 0 -0.060551
                          ulimit 1.5708
                          llimit 0
                          # rotorInertia 3.0E-4
                          # gearRatio 200
                          children [
                            DEF RARM_LINK2 Segment {
                              centerOfMass  0.0587169 0 -0.135292
                              mass    2.623212
                              momentsOfInertia [ 0.016159499521 -0.000092723413 0.002628391213 -0.000092723413 0.016641534611 -0.000174470479 0.002628391213 -0.000174470479 0.004772809189]
                              children [
                                USE ARM_LINK2_SHAPE
                              ]

                            } # Segment RARM_LINK2

                        #     DEF RARM_SHOULDER_R Joint {
                        #       jointType "rotate"
                        #       jointId 8
                        #       # ulimit 2.0944
                        #       # llimit -2.0944
                        #       translation     0 0.012 -0.040
                        #       # rotorInertia 3.0E-4
                        #       # gearRatio 200
                        #       children [
                        #         DEF RARM_LINK3 Segment {
                        #           # centerOfMass          0 0 0.05
                        #           # mass                  0.4
                        #           # momentsOfInertia      [ 0.000146 0 0 0 0.000146 0 0 0 0.000125 ]
                        #           children Transform {
                        #             rotation 0 0 1 -1.5708 
                        #             translation 0 0 0.020247
                        #             scale 0.001 0.001 0.001 
                        #             scaleOrientation 0 0 1 0
                        #             children Inline {
                        #               url "SK_cover_7P_AL1.wrl"
                        #             }
                        #           }

                        #           # children USE ARM_SHAPE3
                        #         }

                                DEF RARM_ELBOW Joint {
                                  jointType "rotate"
                                  jointAxis 0 1 0
                                  jointId 9
                                  translation 0.1500049 0 -0.259808
                                  ulimit 2.79252
                                  llimit 0
                                  # rotorInertia 3.0E-4
                                  # gearRatio 200
                                  children [
                                    DEF RARM_LINK3 Segment {
                                      centerOfMass          0.081713 -0.000812 -0.146934
                                      mass                  2.066792
                                      momentsOfInertia      [ 0.040881846626  -0.000009393015 -0.000750164821 -0.000009393015 0.040396938810 -0.000120419087 -0.000750164821 -0.000120419087 0.002609815732 ]
                                      children [
                                        USE ARM_LINK3_SHAPE
                                       ]
                                    } # Segment RARM_LINK3                                    

                                    # DEF RARM_WRIST_Y Joint {
                                    #   jointType "rotate"
                                    #   jointAxis 0 0 1
                                    #   jointId 10
                                    #   # ulimit 2.0944
                                    #   # llimit -2.0944
                                    #   translation  0 0 -0.032
                                    #   # rotorInertia 3.0E-4
                                    #   # gearRatio 200
                                    #   children [
                                    #     DEF RARM_LINK5 Segment {
                                    #       # centerOfMass          0 0 0.05
                                    #       # mass                  0.4
                                    #       # momentsOfInertia      [ 0.000146 0 0 0 0.000146 0 0 0 0.000125 ]
                                    #       children Transform {
                                    #         rotation 0 0 1 1.5708 
                                    #         translation 0 0 0.0305
                                    #         scale 0.001 0.001 0.001 
                                    #         scaleOrientation 0 0 1 0
                                    #         children Inline {
                                    #           url "SK_cover_7P_AL3.wrl"
                                    #         }
                                    #       }

                                    #       # children USE ARM_SHAPE5
                                    #     }
                                        
                                    #     DEF RARM_WRIST_P Joint {
                                    #       jointType "rotate"
                                    #       jointAxis 0 1 0
                                    #       jointId 11
                                    #       translation 0 0 -0.1995
                                    #       # ulimit 2.0944
                                    #       # llimit -2.0944
                                    #       # rotorInertia 3.0E-4
                                    #       # gearRatio 200
                                    #       children [
                                    #         DEF RARM_LINK6 Segment {
                                    #           # centerOfMass          0 -0.01 -0.09
                                    #           # mass                  0.4
                                    #           # momentsOfInertia      [ 0.001851 0 0 0 0.001771 0 0 0 0.000247 ]
                                    #           children [
                                    #             # DEF rhsensor ForceSensor {
                                    #                     # translation 0 0 0
                                    #                     # rotation 1 0 0 0
                                    #                     # sensorId 3
                                    #             # }
                                    #             USE ARM_SHAPE6
                                    #           ]  
                                    #         }
                                            
                                    #         DEF RARM_WRIST_R Joint {
                                    #           jointType "rotate"
                                    #           jointAxis 1 0 0
                                    #           jointId 12
                                    #           # ulimit 1.309
                                    #           # llimit -0.122173
                                    #           # rotorInertia 3.0E-4
                                    #           # gearRatio 200
                                    #           children [
                                    #             DEF RARM_LINK7 Segment {
                                    #               # centerOfMass  0 0.03 -0.1
                                    #               # mass                  0.4
                                    #               # momentsOfInertia      [ 0.00078 0 0 0 0.000833 0 0 0 0.000113 ]
                                    #               children [
                                    #                 USE ARM_SHAPE7
                                    #               ]
                                    #             } # Segment RARM_LINK7
                                    #           ]
                                    #         } # Joint RARM_WRIST_R
                                    #       ]
                                    #     } # Joint RARM_WRIST_P
                                    #   ]
                                    # }
                                    # Joint RARM_WRIST_Y
                                  ]
                                } # Joint RARM_ELBOW
                              ]
                            # } # Joint RARM_SHOULDER_P
                          # ]
                        } # Joint RARM_SHOULDER_R
                      ]
                    } # Joint RARM_SHOULDER_Y
      
        #==================== Back Left Leg ====================

        DEF LLEG_HIP_Y Joint {
          jointType "rotate"
          jointAxis 0 0 1
          jointId 13
          translation -0.060 0.100 -0.087
          rotation 0 0 1 3.14159
          # no limit
          # rotorInertia 3.0E-4
          # gearRatio 200
          children [
            DEF LLEG_LINK1 Segment {
              centerOfMass          0.0339853 -0.009895 -0.0268937
              mass                  0.262933
              momentsOfInertia      [ 0.000323237944 0.000007537601 -0.000004665104 0.000007537601 0.000199716018 -0.000013948049 -0.000004665104 -0.000013948049 0.000214641727]
              children USE ARM_LINK1_SHAPE
            }

            DEF LLEG_HIP_P Joint {
              jointType "rotate"
              jointAxis 0 -1 0
              jointId 14
              ulimit 1.5708
              llimit 0
              # rotorInertia 3.0E-4
              # gearRatio 200
              translation 0.0338084 0 -0.060551
              children    [
                   DEF LLEG_LINK2 Segment {
                     centerOfMass  0.0587169 0 -0.135292
                     mass    2.623212
                     momentsOfInertia [ 0.016159499521 -0.000092723413 0.002628391213 -0.000092723413 0.016641534611 -0.000174470479 0.002628391213 -0.000174470479 0.004772809189]
                     children USE ARM_LINK2_SHAPE
                   }

            #        DEF LLEG_HIP_R Joint {
            #          jointType "rotate"
            #          jointId 15
            #          translation     0 0 -0.3535
            #          rotorInertia 3.0E-4
            #          gearRatio 200
            #          children [
            #            DEF LLEG_LINK3 Segment {
            #              centerOfMass          0 0 0.18
            #              mass                  5.1
            #              momentsOfInertia      [ 0.03156 0 0 0 0.03156 0 0 0 0.0085 ]
            #              children DEF LEG_SHAPE3 Transform {
            #                children [
            #                  Transform {
            #                    translation 0 0 0.1
            #                    rotation 1 0 0 1.5708
            #                    children Shape {
            #                      appearance DEF LEG_APP3 Appearance {
            #                        material  Material {
            #                          diffuseColor   0.8 0.9 0.8
            #                        }
            #                      }
            #                      geometry Cylinder { radius 0.05 height 0.1 }
            #                    }
            #                  }
            #                  Transform {
            #                    translation 0 0 0.22675
            #                    children      Shape {
            #                      appearance USE LEG_APP3
            #                      geometry Box { size 0.1 0.1 0.1535 }
            #                    }
            #                  }
            #                ]
            #              }
            #            } # Segment LLEG_LINK3

                       DEF LLEG_KNEE Joint {
                         jointType "rotate"
                         jointAxis 0 1 0
                         jointId 16
                         ulimit 2.79252
                         llimit 0
                         # rotorInertia 3.0E-4
                         # gearRatio 200
                         translation 0.1500049 0 -0.259808
                         children [
                                   
                           DEF LLEG_LINK3 Segment {
                             centerOfMass          0.081713 0.000812 -0.146934
                             mass                  2.066792
                             momentsOfInertia      [ 0.040881846626  -0.000009393015 -0.000750164821 -0.000009393015 0.040396938810 -0.000120419087 -0.000750164821 -0.000120419087 0.002609815732 ]
                             children [
                               USE ARM_LINK3_SHAPE
                              ]
                           } # Segment LLEG_LINK3

                           # DEF LLEG_ANKLE_P Joint {
                           #   jointType "rotate"
                           #   jointAxis 0 1 0
                           #   jointId 17
                           #   translation       0 0 -0.3
                           #   rotorInertia 3.0E-4
                           #   gearRatio 200
                           #   children [
                           #     DEF LLEG_LINK5 Segment {
                           #       centerOfMass          0 0 0
                           #       mass                  2.5
                           #       momentsOfInertia      [ 0.003646 0 0 0 0.003125 0 0 0 0.003646 ]
                           #       children DEF LEG_SHAPE5 Shape {
                           #         appearance Appearance {
                           #           material Material {
                           #           }
                           #         }
                           #         geometry Cylinder { radius 0.05 height 0.1 }
                           #       }
                           #     }
                           #     DEF LLEG_ANKLE_R Joint {
                           #       jointType "rotate"
                           #       jointAxis 1 0 0
                           #       jointId 18
                           #       rotorInertia 3.0E-4
                           #       gearRatio 200
                           #       children [
                           #         DEF LLEG_LINK6 Segment {
                           #           centerOfMass          0.080 0 -0.03
                           #           mass                  1.9
                           #           momentsOfInertia      [ 0.005291 0 0 0 0.012084 0 0 0 0.013 ]
                           #           children[ 
                           #             DEF lfsensor ForceSensor {
                           #               translation 0 0 -0.07
                           #               rotation 1 0 0 0
                           #               sensorId 0
                           #             }
                           #             DEF LEG_SHAPE6 Transform {
                           #             children [
                           #               Transform {
                           #                 translation 0.1 0 0
                           #                 rotation 0 0 1 1.5708
                           #                 children Shape {
                           #                   appearance DEF LEG_APP6 Appearance {
                           #                     material      Material {
                           #                       diffuseColor 0.0 0.5 0.0
                           #                     }
                           #                   }
                           #                   geometry Cylinder { radius 0.05 height 0.1 }
                           #                 }
                           #               }
                           #               Transform {
                           #                 translation       0.055 0 -0.06
                           #                 children  Shape {
                           #                   appearance USE LEG_APP6
                           #                   geometry Box { size 0.25 0.14 0.02 }
                           #                 } # Shape
                           #               }#Transform
                           #             ]
                           #           }
                           #           ]
                           #         } # Segment LLEG_LINK6
                           #       ]
                           #     } # Joint LLEG_ANKLE_R
                           #   ]
                           # }
                           # Joint LLEG_ANKLE_P
                         ]
                       } # Joint LLEG_KNEE
                     ]
                   # } # Joint LLEG_HIP_R
               # ]
            } # Joint LLEG_HIP_P
          ]
        } # Joint LLEG_HIP_Y

        #==================== Right Leg ====================

        DEF RLEG_HIP_Y Joint {
          jointType "rotate"
          jointAxis 0 0 1
          jointId 0
          translation   -0.060 -0.100 -0.087
          rotation 0 0 1 3.14159
          # no limit
          # rotorInertia 3.0E-4
          # gearRatio 200
          children [
            DEF RLEG_LINK1 Segment {
              centerOfMass          0.0339853 0.009895 -0.0268937
              mass                  0.262933
              momentsOfInertia      [ 0.000323237944 0.000007537601 -0.000004665104 0.000007537601 0.000199716018 -0.000013948049 -0.000004665104 -0.000013948049 0.000214641727]
              children USE ARM_LINK1_SHAPE
            }

            DEF RLEG_HIP_P Joint {
              jointType "rotate"
              jointAxis 0 -1 0
              jointId 1
              ulimit 1.5708
              llimit 0
              # rotorInertia 3.0E-4
              # gearRatio 200
              translation 0.0338084 0 -0.060551
              children [
                DEF RLEG_LINK2 Segment {
                  centerOfMass  0.0587169 0 -0.135292
                  mass    2.623212
                  momentsOfInertia [ 0.016159499521 -0.000092723413 0.002628391213 -0.000092723413 0.016641534611 -0.000174470479 0.002628391213 -0.000174470479 0.004772809189]
                  children USE ARM_LINK2_SHAPE
                }
            #     DEF RLEG_HIP_R Joint {
            #       jointType "rotate"
            #       jointId 2
            #       translation     0 0 -0.3535
            #       rotorInertia 3.0E-4
            #       gearRatio 200
            #       children [
            #         DEF RLEG_LINK3 Segment {
            #           centerOfMass          0 0 0.18
            #           mass                  5.1
            #           momentsOfInertia      [ 0.03156 0 0 0 0.03156 0 0 0 0.0085 ]
            #           children [
            #             USE LEG_SHAPE3
            #           ]
            #         }

                    DEF RLEG_KNEE Joint {
                      jointType "rotate"
                      jointAxis 0 1 0
                      jointId 3
                      translation 0.1500049 0 -0.259808
                      ulimit 2.79252
                      llimit 0
                      # rotorInertia 3.0E-4
                      # gearRatio 200
                      children [
                        DEF RLEG_LINK3 Segment {
                          centerOfMass          0.081713 0.000812 -0.146934
                          mass                  2.066792
                          momentsOfInertia      [ 0.040881846626  -0.000009393015 -0.000750164821 -0.000009393015 0.040396938810 -0.000120419087 -0.000750164821 -0.000120419087 0.002609815732 ]
                          children [
                            USE ARM_LINK3_SHAPE
                          ]
                        } # Segment RLEG_LINK3

                        # DEF RLEG_ANKLE_P Joint {
                        #   jointType "rotate"
                        #   jointAxis 0 1 0
                        #   jointId 4
                        #   translation     0 0 -0.3
                        #   rotorInertia 3.0E-4
                        #   gearRatio 200
                        #   children [
                        #     DEF RLEG_LINK5 Segment {
                        #       centerOfMass          0 0 0
                        #       mass                  2.5
                        #       momentsOfInertia      [ 0.003646 0 0 0 0.003125 0 0 0 0.003646 ]
                        #       children USE LEG_SHAPE5
                        #     }

                        #     DEF RLEG_ANKLE_R Joint {
                        #       jointType "rotate"
                        #       jointAxis 1 0 0
                        #       jointId 5
                        #       rotorInertia 3.0E-4
                        #       gearRatio 200
                        #       children [
                        #         DEF RLEG_LINK6 Segment {
                        #           centerOfMass          0.080 0 -0.03
                        #           mass                  1.9
                        #           momentsOfInertia      [ 0.005291 0 0 0 0.012084 0 0 0 0.013 ]
                        #           children [
                        #             DEF rfsensor ForceSensor {
                        #                  translation 0 0 -0.07
                        #                  rotation 1 0 0 0
                        #                  sensorId 1
                        #             }
                        #             USE LEG_SHAPE6
                        #           ]
                        #         } # Segment RLEG_LINK6
                        #       ]
                        #     } # Joint RLEG_ANKLE_R
                        #   ]
                        # } # Joint RLEG_ANKLE_P
                      ]
                    } # Joint RLEG_KNEE
                  ]
                # } # Joint RLEG_HIP_R
              # ]
            } # Joint RLEG_HIP_P
          ]
        } # Joint RLEG_HIP_Y
           ]        
        } # segment WAIST_Y
      ]
    } # Joint WAIST
  ]


  # List up all the joints' name you use
  joints [
    USE WAIST,
    USE WAIST_Y,

    USE LARM_SHOULDER_Y,
    USE LARM_SHOULDER_P,
    # USE LARM_SHOULDER_R,
    USE LARM_ELBOW,
    # USE LARM_WRIST_Y,
    # USE LARM_WRIST_P,
    # USE LARM_WRIST_R,
    
    USE RARM_SHOULDER_Y,
    USE RARM_SHOULDER_P,
    # USE RARM_SHOULDER_R,
    USE RARM_ELBOW,
    # USE RARM_WRIST_Y,
    # USE RARM_WRIST_P,
    # USE RARM_WRIST_R,
    
    USE LLEG_HIP_Y,
    USE LLEG_HIP_P,
    # USE LLEG_HIP_R,
    USE LLEG_KNEE,
    # USE LLEG_ANKLE_P,
    # USE LLEG_ANKLE_R,
    
    USE RLEG_HIP_Y,
    USE RLEG_HIP_P,
    # USE RLEG_HIP_R,
    USE RLEG_KNEE,
    # USE RLEG_ANKLE_P,
    # USE RLEG_ANKLE_R
  ]

  # List up all the segments' name you use
  segments [
    USE WAIST_LINK0,
    USE WAIST_LINK1,

    USE LARM_LINK1,
    USE LARM_LINK2,
    USE LARM_LINK3,
    # USE LARM_LINK4,
    # USE LARM_LINK5,
    # USE LARM_LINK6,
    # USE LARM_LINK7,
    
    USE RARM_LINK1,
    USE RARM_LINK2,
    USE RARM_LINK3,
    # USE RARM_LINK4,
    # USE RARM_LINK5,
    # USE RARM_LINK6,
    # USE RARM_LINK7,
    
    USE LLEG_LINK1,
    USE LLEG_LINK2,
    USE LLEG_LINK3,
    # USE LLEG_LINK4,
    # USE LLEG_LINK5,
    # USE LLEG_LINK6,
    
    USE RLEG_LINK1,
    USE RLEG_LINK2,
    USE RLEG_LINK3,
    # USE RLEG_LINK4,
    # USE RLEG_LINK5,
    # USE RLEG_LINK6
  ]
}

